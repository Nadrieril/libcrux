files:
  # Different crate
  - name: libcrux_sha3
    api:
      - [libcrux_sha3, "*"]

  # Different crate
  - name: libcrux_intrinsics_neon
    api:
      - [libcrux_intrinsics, arm64]

  # Different crate
  - name: libcrux_intrinsics_avx2
    api:
      - [libcrux_intrinsics, avx2]

  # - name: libcrux_mlkem_sha3_neon
  #   specialized_over_trait_impl:
  #     - [libcrux_ml_kem, hash_functions, neon, "*"]
  #   api:
  #     - [libcrux_ml_kem, hash_functions, neon, "*"]

  - name: libcrux_mlkem_sha3_avx2
    specialized_over_trait_impl:
      - [libcrux_ml_kem, hash_functions, avx2, "*"]
    api:
      - [libcrux_ml_kem, hash_functions, avx2, "*"]

  - name: libcrux_mlkem_sha3
    api:
      - [libcrux_ml_kem, hash_functions, "*"]

  - name: libcrux_platform
    api:
      - [libcrux_platform, "*"]

  - name: libcrux_neon_intrinsics
    library: true
    # inline_static: true
    api:
      - [libcrux_ml_kem, vector, neon, intrinsics]

  - name: libcrux_mlkem_vector
    api:
      - [libcrux_ml_kem, vector, traits]
      - [libcrux_ml_kem, vector]

  - name: libcrux_mlkem_constants
    api:
      - [libcrux_ml_kem, constants]

  - name: libcrux_mlkem_ctops
    api:
      - [libcrux_ml_kem, constant_time_ops]

  # Extras needed for the C code from eurydice
  - name: libcrux_mlkem_eurydice
    api:
      - [libcrux_ml_kem, eurydice_types, "*"]

  - name: libcrux_mlkem_neon
    api:
      - [libcrux_ml_kem, vector, neon, "*"]
      - [libcrux_ml_kem, hash_functions, neon, "*"]
    specialized_over_trait_impl:
      - [libcrux_ml_kem, hash_functions, neon, "*"]
      - [libcrux_ml_kem, vector, neon, "*"]
    include_in_c:
      - '"libcrux_hacl_glue.h"'

  # - name: libcrux_mlkem_avx2
  #   api:
  #     - [libcrux_ml_kem, vector, avx2, "*"]
  #   specialized_over_trait_impl:
  #     - [libcrux_ml_kem, vector, avx2, "*"]
  #   include_in_c:
  #     - '"libcrux_hacl_glue.h"'

  - name: libcrux_mlkem_sha3
    api:
      - [libcrux_ml_kem, hash_functions, "*"]
    specialized_over_trait_impl:
      - [libcrux_ml_kem, hash_functions, "*"]
    include_in_c:
      - '"libcrux_hacl_glue.h"'

  - name: libcrux_mlkem512
    api:
      - [libcrux_ml_kem, mlkem512]
    include_in_c:
      - '"libcrux_hacl_glue.h"'

  - name: libcrux_mlkem768
    api:
      - [libcrux_ml_kem, mlkem768]
    include_in_c:
      - '"libcrux_hacl_glue.h"'

  - name: libcrux_mlkem1027
    api:
      - [libcrux_ml_kem, mlkem1024]
    include_in_c:
      - '"libcrux_hacl_glue.h"'

  - name: libcrux_mlkem_common
    private:
      - [libcrux_mlkem, "*"]
    include_in_h:
      - '"libcrux_hacl_glue.h"'
    inline_static: true

  - name: core
    private:
      - [core, "*"]
    api:
      - [Eurydice, "*"]
